import{a as I,b as a,e as m,f as L}from"../chunk-OOUMWJO3.js";var _=I(c=>{L();var o=document.getElementById("currentPage"),g=document.getElementById("refresh"),P=document.getElementById("totalPages"),r=document.getElementById("recordsPerPage"),b=document.getElementById("currentRecords"),k=document.getElementById("totalRecords"),v=document.querySelector("#datatable tbody"),i=parseInt(o==null?void 0:o.value)||1,u=1,d=parseInt(r==null?void 0:r.value),h=0;function y(){return a(this,null,function*(){try{let t=yield fetch(`/api/activities?page=${i}&limit=${d}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),{message:s,data:e}=yield t.json();t.ok?(h=e.total_items,u=Math.ceil(h/d),A(e.data),R()):m(s,"error")}catch(t){m("An error occurred. Please try again.","error")}})}function A(t){if(v){v.innerHTML="";let s=document.createDocumentFragment();t.forEach(e=>{var E,f,S,p;let n=(E=document.getElementById("activity-row"))==null?void 0:E.content.cloneNode(!0);n&&(n.querySelector(".title").textContent=e.title,(f=n.querySelector(".title"))==null||f.setAttribute("title",e.title),n.querySelector(".start_date").textContent=e.start_date,n.querySelector(".end_date").textContent=e.end_date,n.querySelector(".venue").textContent=e.venue,(S=n.querySelector(".venue"))==null||S.setAttribute("title",e.venue),n.querySelector(".region").textContent=e.region,n.querySelector(".host").textContent=e.host,(p=n.querySelector(".host"))==null||p.setAttribute("title",e.host),n.querySelector(".info").href=`/activities/${e.id}`,n.querySelector(".view").href=`/activities/${e.id}/edit`,s.appendChild(n))}),v.appendChild(s)}}function R(){o.value=i,P.textContent=u,b.textContent=(i-1)*d+1,k.textContent=h}function l(t){return a(this,null,function*(){t>=1&&t<=u&&(i=t,yield y())})}var q;(q=document.getElementById("firstPage"))==null||q.addEventListener("click",()=>a(c,null,function*(){return yield l(1)}));var w;(w=document.getElementById("prevPage"))==null||w.addEventListener("click",()=>a(c,null,function*(){return yield l(i-1)}));var C;(C=document.getElementById("nextPage"))==null||C.addEventListener("click",()=>a(c,null,function*(){return yield l(i+1)}));var B;(B=document.getElementById("lastPage"))==null||B.addEventListener("click",()=>a(c,null,function*(){return yield l(u)}));g==null||g.addEventListener("click",()=>a(c,null,function*(){yield y()}));o==null||o.addEventListener("change",()=>a(c,null,function*(){let t=parseInt(o==null?void 0:o.value);yield l(t)}));r.addEventListener("change",()=>a(c,null,function*(){d=parseInt(r.value),i=1,yield y()}));y().catch(t=>console.log(t))});export default _();
//# sourceMappingURL=pager.js.map
