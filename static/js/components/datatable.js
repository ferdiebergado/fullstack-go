import{a as B}from"../chunk-GPNQZ4ZI.js";var c=document.getElementById("data-table"),s=c==null?void 0:c.querySelector("thead"),u=c==null?void 0:c.querySelector("tbody"),v=c==null?void 0:c.getAttribute("data-columns"),k=c==null?void 0:c.getAttribute("data-url"),p=document.getElementById("firstPage"),h=document.getElementById("prevPage"),E=document.getElementById("nextPage"),f=document.getElementById("lastPage"),A=document.getElementById("pagination"),l=document.getElementById("page"),w=document.getElementById("pageInfo"),g=document.getElementById("recordsPerPage"),P=document.getElementById("totalPages"),T=document.getElementById("filter"),d=1,I=10,C=1,L=[],D=[],y=1,S="";function $(){p==null||p.addEventListener("click",()=>{d=1,i()}),h==null||h.addEventListener("click",()=>{d--,i()}),E==null||E.addEventListener("click",()=>{d++,i()}),f==null||f.addEventListener("click",()=>{d=C,i()})}function F(){l==null||l.addEventListener("change",o=>{var e;let t=Number((e=o.target)==null?void 0:e.value);t>=1&&t<=C&&(d=t,i())})}function M(){var t;L=(v==null?void 0:v.split(","))||[],(t=document.getElementById("search"))==null||t.addEventListener("input",q(i,300)),g==null||g.addEventListener("change",()=>B(this,null,function*(){I=parseInt(g.value),d=1,i()}));let o=document.createDocumentFragment();L.forEach(e=>{let n=document.createElement("option");n.value=e,n.textContent=e,o.appendChild(n)}),T.innerHTML="",T.appendChild(o),$(),F(),i()}function i(){var e;let o=(e=document.getElementById("search"))==null?void 0:e.value.trim().toLowerCase(),t=new URLSearchParams({page:String(d),limit:String(I),sort:S,sortDir:String(y),search:o});fetch(`${k}?${t.toString()}`).then(n=>n.json()).then(n=>{let{total_items:a,total_pages:r,page:m,data:x}=n.data;D=x,C=r,d=m,R(L,D),b(a,d,C)}).catch(n=>console.error("Error fetching data:",n))}function R(o,t){if(!(s!=null&&s.children.length)){s.innerHTML="";let n=document.createElement("tr");o.forEach(a=>{let r=document.createElement("th");r.textContent=a.toUpperCase(),r.addEventListener("click",()=>U(a)),n.appendChild(r)}),s==null||s.appendChild(n)}let e=document.createDocumentFragment();t.forEach(n=>{let a=document.createElement("tr");o.forEach(r=>{let m=document.createElement("td");m.textContent=n[r.trim()],a.appendChild(m)}),e.appendChild(a)}),u.innerHTML="",u==null||u.appendChild(e)}function b(o,t,e){let n=(t-1)*I+1,a=Math.min(t*I,o);p.disabled=t===1,h.disabled=t===1,E.disabled=t===e,f.disabled=t===e,l.max=e,l.value=t,P.textContent=e,w.textContent=`Showing ${n} to ${a} of ${o} records`}function U(o){S===o?y=-y:y=1,S=o,i()}function q(o,t){let e;return function(...n){clearTimeout(e),e=setTimeout(()=>o.apply(this,n),t)}}M();
//# sourceMappingURL=datatable.js.map
